---
import { IoMdClose } from "react-icons/io/index"

import "../css/main.css";

interface Props {
  dark?: boolean;
}

let { dark } = Astro.props;
const menuStyle = (dark) ? { backgroundColor: "#000", color: "rgb(245 245 245)" } : { backgroundColor: "#fff", color: "rgb(23 23 23)" };
const closeStyle = (dark) ? { color: "#fff" } : { color: "#000" };
---

<div
  id="--scrphotography-hamburger-menu"
  class="navbar-home block visible m-0 fixed w-60 h-screen top-0 pt-7 ps-4 pe-7 z-30 -right-60 translate-x-0 transition-transform duration-300"
  style={menuStyle}
>
  {/* class+="lg:collapse lg:hidden lg:m-auto lg:static lg:w-auto lg:h-auto lg:top-auto lg:p-0 lg:z-auto lg:right-auto lg:translate-x-0" */}
  <div class="w-full h-auto z-20 cursor-pointer flex justify-end" data-hamburger-menu-action="toggle">
    <IoMdClose className="text-2xl lg:text-4xl hover:scale-110 transition duration-300" style={closeStyle} />
  </div>
  <ul class="flex items-center mt-2 px-2 flex-col">
    {/* Inicio */}
    <li class="my-1">
      <a
        href={`${import.meta.env.BASE_URL}/inicio`}
        class="text-xl lg:text-2xl hover:text-gray-300 hover:transition-all duration-300 m-0"
      >
        <div class="flex items-center">
          <!-- <span class="pe-3"><IoSearchOutline /></span> -->
          <span>Inicio</span>
        </div>
      </a>
    </li>

    {/* Marcas */}
    <li class="my-3"></li>
    <li class="my-1">
      <a
        href={`${import.meta.env.BASE_URL}/toyota`}
        class="text-xl lg:text-2xl hover:text-gray-300 hover:transition-all duration-300 m-0"
      >
        <div class="flex items-center">
          <!-- <span class="pe-3"><IoSearchOutline /></span> -->
          <span>Toyota</span>
        </div>
      </a>
    </li>
    <li class="my-1">
      <a
        href={`${import.meta.env.BASE_URL}/cubitt`}
        class="text-xl lg:text-2xl hover:text-gray-300 hover:transition-all duration-300 m-0"
      >
        <div class="flex items-center">
          <!-- <span class="pe-3"><IoSearchOutline /></span> -->
          <span>Cubitt</span>
        </div>
      </a>
    </li>
    <li class="my-1">
      <a
        href={`${import.meta.env.BASE_URL}/hps`}
        class="text-xl lg:text-2xl hover:text-gray-300 hover:transition-all duration-300 m-0"
      >
        <div class="flex items-center">
          <!-- <span class="pe-3"><IoSearchOutline /></span> -->
          <span>HPS</span>
        </div>
      </a>
    </li>
    <li class="my-1">
      <a
        href={`${import.meta.env.BASE_URL}/zusset`}
        class="text-xl lg:text-2xl hover:text-gray-300 hover:transition-all duration-300 m-0"
      >
        <div class="flex items-center">
          <!-- <span class="pe-3"><IoSearchOutline /></span> -->
          <span>Zusset</span>
        </div>
      </a>
    </li>

    {/* Top */}
    <li class="my-3"></li>
    <li class="my-1">
      <a
        href={`${import.meta.env.BASE_URL}/top/videos`}
        class="text-xl lg:text-2xl hover:text-gray-300 hover:transition-all duration-300 m-0"
      >
        <div class="flex items-center">
          <!-- <span class="pe-3"><IoSearchOutline /></span> -->
          <span>Top Vídeos</span>
        </div>
      </a>
    </li>
    <li class="my-1">
      <a
        href={`${import.meta.env.BASE_URL}/top/fotos`}
        class="text-xl lg:text-2xl hover:text-gray-300 hover:transition-all duration-300 m-0"
      >
        <div class="flex items-center">
          <!-- <span class="pe-3"><IoSearchOutline /></span> -->
          <span>Top Fotos</span>
        </div>
      </a>
    </li>

    {/* Yo */}
    <li class="my-3"></li>
    <li class="my-1">
      <a
        href={`${import.meta.env.BASE_URL}/acerca`}
        class="text-xl lg:text-2xl hover:text-gray-300 hover:transition-all duration-300 m-0"
      >
        <div class="flex items-center">
          <!-- <span class="pe-3"><IoSearchOutline /></span> -->
          <span>Sobre mí</span>
        </div>
      </a>
    </li>
    <li class="my-1">
      <a
        href={`${import.meta.env.BASE_URL}/contacto`}
        class="text-xl lg:text-2xl hover:text-gray-300 hover:transition-all duration-300 m-0"
      >
        <div class="flex items-center">
          <!-- <span class="pe-3"><IoSearchOutline /></span> -->
          <span>Contacto</span>
        </div>
      </a>
    </li>
  </ul>
</div>
<div
  class="visible fixed top-0 left-0 w-full h-screen z-20 bg-[rgba(0,0,0,0.5)] hidden"
  id="--scrphotography-hamburger-back"
>
  {/* class+="lg:collapse lg:static lg:top-auto lg:left-auto lg:w-auto lg:h-auto lg:z-auto" --> */}
</div>
<script>
  let stateMobileMenuOpen: boolean = false;

  let __c2dev_hamburger_back!: HTMLElement;
  let __c2dev_hamburger_menu!: HTMLElement;

  const hamburgerMenu = (() => {
    const _updateHamburgerMenu = (stateMobileOpen: boolean) => {
      const __inner = (isOpen: boolean) => {
        const backVis = (isOpen: boolean) => {
          return isOpen ? "block" : "hidden";
        };
        const navVis = (isOpen: boolean) => {
          return isOpen ? "-translate-x-60" : "translate-x-0";
        };

        __c2dev_hamburger_back.classList.replace(
          backVis(!isOpen),
          backVis(isOpen)
        );
        __c2dev_hamburger_menu.classList.replace(
          navVis(!isOpen),
          navVis(isOpen)
        );
      };

      __inner(stateMobileOpen);
      return stateMobileOpen;
    };
    const toggle = () => {
      stateMobileMenuOpen = _updateHamburgerMenu(!stateMobileMenuOpen);
    };
    const close = () => {
      stateMobileMenuOpen = false;
      _updateHamburgerMenu(false);
    };
    const open = () => {
      stateMobileMenuOpen = true;
      _updateHamburgerMenu(true);
    };

    return { toggle: toggle, close: close, open: open };
  })();

  document.addEventListener("DOMContentLoaded", (_event) => {
    __c2dev_hamburger_back = document.getElementById(
      "--scrphotography-hamburger-back"
    )!!;
    __c2dev_hamburger_menu = document.getElementById(
      "--scrphotography-hamburger-menu"
    )!!;

    __c2dev_hamburger_back.addEventListener("click", hamburgerMenu.close);

    document.querySelectorAll("[data-hamburger-menu-action='open']")!!.forEach(element => {
      element.addEventListener("click", hamburgerMenu.open);
    });
    document.querySelectorAll("[data-hamburger-menu-action='toggle']")!!.forEach(element => {
      element.addEventListener("click", hamburgerMenu.toggle);
    });
  });
</script>
